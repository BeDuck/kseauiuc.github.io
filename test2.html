<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/bootstrap.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
</head>
<body>

<p id="demo"></p>

<script>
var content_list = [];
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        myFunction(this);
        $("#demo").hide();
    }
};
xhttp.open("GET", "http://kseauiucyg.blogspot.com/feeds/posts/default", true);
xhttp.send();

function myFunction(xml) {
    var xmlDoc = xml.responseXML;
    var contents = xmlDoc.getElementsByTagName("content");

    for(var j = 0, k = contents.length; j < k; j++) {
        cur_title = xmlDoc.getElementsByTagName("title")[j+1].childNodes[0].nodeValue;
        cur_content = xmlDoc.getElementsByTagName("content")[j].childNodes[0].nodeValue;
        
        //parse main image
        main_img = $('img',cur_content).get(0);

        content_list.push({title: cur_title, content: cur_content, img: main_img});
    }

    var img_list = [];
    var temp_img;
    for (var j = 0; j < content_list.length; j++) {
        temp_img = new Image();
        temp_img.setAttribute('src',content_list[j].img.getAttribute('src'));
        temp_img.setAttribute('width','200');
        temp_img.setAttribute('height','150');
        temp_img.setAttribute('data-toggle','modal');
        temp_img.setAttribute('data-target','#myModal');
        temp_img.setAttribute('id','modal-btn');
        temp_img.setAttribute('style','cursor: pointer;')
        temp_img.setAttribute('value',j);
        temp_img.setAttribute('class','modal-btn-class')
        img_list.push(temp_img);
    }

    $('#picture-list').html(img_list);

    $('.modal-btn-class').click(function() {
        $("#blog-title").html(content_list[this.getAttribute('value')].title);
        $("#blog-body").html(content_list[this.getAttribute('value')].content);
    });
}
</script>

<div class="container">
    <div id="picture-list"></div>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="blog-title"></h4>
                </div>
                <div class="modal-body">
                    <p id="blog-body"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id="close-btn">Close</button>
                </div>
            </div>
        </div>
    </div>
  
</div>

</body>
</html>
